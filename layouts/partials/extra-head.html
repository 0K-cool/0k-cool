<!-- 0K Favicon -->
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
<link rel="shortcut icon" href="/favicon.ico">

<!-- 0K Custom Styles -->
<style>
  /* Match cursor to 0K avatar HUD color */
  .logo__cursor {
    background: #00e5ff !important; /* Ice-blue from HUD display */
  }

  /* Fix task list checkboxes - remove bullets */
  .post-content ul li[class*="task-list"],
  .post-content li:has(input[type="checkbox"]) {
    list-style: none !important;
  }

  /* Alternative approach - remove all bullets from lists with checkboxes */
  ul:has(input[type="checkbox"]) {
    list-style: none !important;
    padding-left: 0 !important;
  }

  ul:has(input[type="checkbox"]) li {
    list-style: none !important;
  }

  /* Old-school terminal code blocks - remove ALL borders and shadows */
  .highlight,
  .highlight pre,
  div.highlight,
  .highlight table,
  .highlight tbody,
  .highlight tr,
  .highlight td {
    background-color: #1e1e1e !important;
    border: none !important;
    box-shadow: none !important; /* Remove shadow effects */
    margin: 0 !important;
    padding: 0 !important;
  }

  .highlight pre {
    padding: 1em !important;
    overflow-x: auto;
    box-shadow: none !important;
  }

  /* Terminal-style code block container - flat design */
  .post-content pre,
  .post-content .highlight,
  .post-content div.highlight {
    background-color: #1e1e1e !important;
    border: none !important; /* No border - clean terminal look */
    border-radius: 0 !important; /* No rounded corners - old school */
    box-shadow: none !important; /* No shadows - flat terminal */
    margin: 1em 0 !important;
    font-family: 'Courier New', Courier, monospace !important;
  }

  /* Fix line number rendering */
  .highlight .chroma,
  .highlight .chroma table,
  .highlight .chroma tbody,
  .highlight .chroma tr,
  .highlight .chroma td {
    background-color: #1e1e1e !important;
    border: none !important;
    box-shadow: none !important;
  }

  /* Terminal-style code display */
  .highlight code {
    display: block;
    line-height: 1.5;
    font-family: 'Courier New', Courier, monospace !important;
    font-size: 16px !important; /* Match base body font (1rem) */
  }

  /* Make line numbers bigger too */
  .highlight .chroma .lnt,
  .highlight .chroma .ln {
    font-size: 16px !important;
  }

  /* ASCII art boxes - no background, just monospace */
  .post-content > pre:not(.highlight pre) {
    background: transparent !important;
    border: none !important;
    padding: 0 !important;
    margin: 1em 0 !important;
  }

  /* Center copyright in footer */
  .footer__content {
    text-align: center !important;
    justify-content: center !important;
  }

  /* Mobile-specific styles (phones ≤684px) */
  @media (max-width: 684px) {
    /* Hide ASCII header box on mobile phones */
    .ascii-header-box {
      display: none !important;
    }

    /* Simplest approach: hide line numbers column, keep everything else normal */
    .highlight .lnt,
    .highlight .ln,
    .highlight td.lntd:first-child,
    .highlight table tr td:first-child {
      display: none !important;
    }

    /* Make code column take full width and pull up to eliminate top space */
    .highlight table tr td:last-child {
      display: block !important;
      width: 100% !important;
    }

    /* Pull code content up to eliminate extra top spacing */
    .highlight table tr td:last-child pre {
      margin-top: -1em !important;
      padding-top: 1em !important;
    }

    /* Constrain code block width on mobile to reduce scrolling */
    .highlight,
    div.highlight,
    .post-content pre,
    .post-content .highlight,
    .post-content div.highlight,
    .post-content > pre:not(.highlight pre) {
      max-width: 89% !important;
      width: 89% !important;
      margin: 1em 0 !important;
      box-sizing: border-box !important;
      overflow-x: auto !important;
    }

    /* Also constrain inner content */
    .highlight > div,
    .highlight table,
    .highlight pre,
    .post-content pre code {
      max-width: 100% !important;
      box-sizing: border-box !important;
    }

    /* Hide scrollbars but allow horizontal scrolling on code blocks and ASCII art */
    .highlight pre,
    .post-content pre,
    .post-content > pre:not(.highlight pre) {
      overflow-x: auto !important;
      -webkit-overflow-scrolling: touch !important;
      scrollbar-width: none !important; /* Firefox */
      -ms-overflow-style: none !important; /* IE/Edge */
    }

    /* Hide scrollbar for Chrome/Safari/newer Edge */
    .highlight pre::-webkit-scrollbar,
    .post-content pre::-webkit-scrollbar,
    .post-content > pre:not(.highlight pre)::-webkit-scrollbar {
      display: none !important;
    }

    /* Mobile warning banner */
    .mobile-warning {
      display: block !important;
      background-color: #ff6b35;
      color: #ffffff;
      padding: 1em;
      margin: 1em 0;
      border-radius: 4px;
      text-align: center;
      font-weight: bold;
    }

    .mobile-warning a {
      color: #ffffff;
      text-decoration: underline;
    }

    /* Mobile-optimized tables - stack columns vertically */
    .post-content table {
      font-size: 14px;
      border: none;
      width: 100%;
    }

    /* Hide table header on mobile */
    .post-content table thead {
      display: none;
    }

    /* Constrain tbody width to match separator lines */
    .post-content table tbody {
      display: block;
      max-width: 89%;
      margin: 0; /* Left-aligned cards */
    }

    /* Left-align all text in table cards including headers */
    .post-content table tbody tr,
    .post-content table tbody td {
      text-align: left !important;
    }

    /* Remove any center alignment from card content */
    .post-content table tbody td * {
      text-align: left !important;
    }

    /* Make each table row a card */
    .post-content table tbody tr {
      display: block;
      margin-bottom: 1em;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      padding: 0.75em;
    }

    /* Stack table cells vertically */
    .post-content table tbody td {
      display: block;
      text-align: left !important;
      padding: 0.5em 0;
      border: none;
    }

    /* Add label before each cell using data-label attribute */
    .post-content table tbody td:before {
      content: attr(data-label);
      font-weight: bold;
      display: inline-block;
      margin-right: 0.5em;
      color: #00e5ff; /* 0K ice-blue color */
    }

    /* Right-aligned numbers should still show right */
    .post-content table tbody td:last-child {
      font-weight: bold;
      margin-top: 0.25em;
    }
  }

  /* Desktop/Tablet (≥685px): Constrain code blocks to match content width */
  @media (min-width: 685px) {
    .mobile-warning {
      display: none !important;
    }

    /* Constrain code blocks to align with ASCII art and content width */
    .post-content .highlight,
    .post-content div.highlight {
      max-width: 52rem !important; /* ~52 chars to match ASCII art width */
      overflow-x: auto !important;
      margin-left: auto !important;
      margin-right: auto !important;
    }

    /* Enable horizontal scrolling for long lines in code blocks */
    .post-content .highlight pre {
      overflow-x: auto !important;
      white-space: pre !important;
    }

    /* ASCII art: natural width, center aligned */
    .post-content > pre:not(.highlight pre) {
      overflow-x: auto !important;
    }

    /* On very wide monitors (>1400px), expand code blocks to natural width */
    @media (min-width: 1400px) {
      .post-content .highlight,
      .post-content div.highlight {
        max-width: none !important;
      }
    }
  }

  /* Copy button for code blocks - positioned on LEFT */
  .code-copy-button {
    position: absolute;
    top: 8px;
    left: 8px; /* Changed from right to left */
    padding: 6px 12px;
    background-color: #00e5ff;
    color: #1e1e1e;
    border: none;
    border-radius: 3px;
    font-size: 12px;
    font-weight: bold;
    font-family: 'Courier New', Courier, monospace;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.2s ease, background-color 0.2s ease;
    z-index: 10;
  }

  .code-copy-button:hover {
    background-color: #00bcd4;
  }

  .code-copy-button.copied {
    background-color: #4caf50;
    color: #ffffff;
  }

  /* Show copy button on hover (desktop) or always (mobile) */
  .highlight:hover .code-copy-button,
  div.highlight:hover .code-copy-button {
    opacity: 1;
  }

  @media (max-width: 684px) {
    .code-copy-button {
      opacity: 1; /* Always visible on mobile */
      font-size: 11px;
      padding: 5px 10px;
    }
  }

  /* Position code block container relatively for absolute button */
  .highlight,
  div.highlight {
    position: relative;
  }

  /* Hide any duplicate copy buttons from theme or other sources */
  .highlight .copy-to-clipboard,
  .highlight button:not(.code-copy-button),
  div.highlight .copy-to-clipboard,
  div.highlight button:not(.code-copy-button),
  .highlight-copy-btn,
  button[data-clipboard-text] {
    display: none !important;
  }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Remove any existing theme copy buttons before adding ours
  const existingButtons = document.querySelectorAll('.highlight button:not(.code-copy-button), .highlight-copy-btn, button[data-clipboard-text], .copy-to-clipboard');
  existingButtons.forEach(function(btn) {
    btn.remove();
  });

  // Add copy buttons ONLY to code blocks (not ASCII art)
  // ASCII art uses plain <pre> tags, code blocks use .highlight class
  const codeBlocks = document.querySelectorAll('.highlight pre, div.highlight pre');

  codeBlocks.forEach(function(codeBlock) {
    // Skip if already has our custom copy button
    if (codeBlock.parentElement.querySelector('.code-copy-button')) {
      return;
    }

    // Create copy button
    const button = document.createElement('button');
    button.className = 'code-copy-button';
    button.textContent = 'Copy';
    button.setAttribute('aria-label', 'Copy code to clipboard');

    // Add click handler
    button.addEventListener('click', function() {
      // Get the code text
      const code = codeBlock.textContent;

      // Copy to clipboard
      navigator.clipboard.writeText(code).then(function() {
        // Show success feedback
        button.textContent = 'Copied!';
        button.classList.add('copied');

        // Reset after 2 seconds
        setTimeout(function() {
          button.textContent = 'Copy';
          button.classList.remove('copied');
        }, 2000);
      }).catch(function(err) {
        console.error('Failed to copy:', err);
        button.textContent = 'Failed';
        setTimeout(function() {
          button.textContent = 'Copy';
        }, 2000);
      });
    });

    // Add button to the code block's parent container
    const container = codeBlock.parentElement;
    container.style.position = 'relative';
    container.appendChild(button);
  });
});
</script>
